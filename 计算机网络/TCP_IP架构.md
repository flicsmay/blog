##计算机网络

以下是我看计算机网络的笔记，话不多说。

首先说到计算机网络肯定是要先说TCP/IP的五层架构体系，那么就从这里说起吧。

###0.TCP/IP的五层架构

TCP/IP协议分为五层架构，这五层协议在各自的层面上完成不同的功能，各自互不相关，功能上上层依赖于下层。 **给我的感受就是一种计算机中抽象构造和层次结构的感觉** ，这似乎也反映了那句话（大致意思）：计算机中任何功能都可以在原有基础上加个层解决。。记不大清楚了，大致就是用来说明计算机中的抽象结构吧，这个TCP/IP协议层中软件工程的意味还是很大的。好了，下面用几个例子来说明这几个层次吧。

TCP/IP协议从上到下分别是：

* 应用层 ： 用于承载需要使用网络功能的应用程序，依靠以下几层的功能，使得在其之上运行的程序具有特定的网络功能。在抽象上来看是 **程序到程序的** 。
* 运输层 ： 用于接收主机上各种不同程序发出的数据包并发送，或者接受网络上传来的数据包并传递给相对应的程序，将运输层以下看成整体的话，运输层是负责 **多个程序到多个程序之间的通信的** ，TCP协议就是依靠于运输层运行的。
* 网络层 ： 将上层传输的数据报通过网络协议发送到特定的主机上，IP协议就是在网络层上运行的，网络层可以看作是 **主机到主机的** 。
* 链路层 ： 用于在两个节点之间的通信（传输数据），这是 **节点到节点的**。
* 物理层 ： 用于传输数据的实体（电缆、光纤、无线电波等等）。

这样子说可能有些让人迷惑，所以我就举个例子来分别表示他们的功能（其实是个非常常见的举例了）

现在我们就用这五个层次来模拟一个例子吧，这个例子同样是一个传输信息的例子：

很久之前有一个公司，公司在运营时要和很多其他的公司或者他们的客户打交道，因为电话还没有出现，所以他们是用信件往来的，在这里 **每个公司或者居民区对应一个主机** ， **每个进程或者应用代表一个客户/居民区住宅**。

* 应用层 ： 应用层就是 **公司外的人进行通信的人** ，他们所需要做的事很简单， **将所要的寄出的信件内容（数据）、所要寄到的地址（IP）、所要寄给人的名字（端口）和对收发信的要求（收到信立即送来（UDP），等信件完整后送来（TCP））告知公司里负责收发信的人（运输层）就行了** 。他们就不用在乎信是怎么被发出，又是怎么被收到的了，他们要做的只是寄信和收信就好了。
* 运输层 ： 运输层就是 **公司/住宅区里负责收发信的人** ，这样增加一个运输层邮局（网络层）就可以不必知道公司内部的 **细节** ，就是哪个人在哪个办公室、寄信的人有什么要求都不用知道。 **收发信的人做的事就是将从客户（内部或外部）那里得来的信件交给邮局，当从邮局那里得到信件的时候就根据客户的需求等信件到齐（邮局可能拆散一封信）或者直接交递给相对应的客户。**
* 网络层 ： 网络层就像是 **邮局系统** 了（其实每个公司或小区都有一个邮局），我没把其称做邮局而称做邮局系统是因为这个邮寄系统是通过邮局之间的协作才能完成的，重要的一点是在功能上来看 **网络层完成的功能是选路，而不是邮寄** 。每一个邮局都有通向其他邮局的通路（链路层）， **当一个邮局拿到一个填有地址的信件的时候要做的事，就是要决定将这封信交到哪个通路（链路）上（也就是朝哪个邮局）**  。同时，根据邮局的变化更新选路表。
* 链路层 ： 链路层就像是 **各条通路上的运送方式** ，在邮局决定将信往哪个邮局发出后，就交给对应的通路，这时候通路拿到了信件就可以向目的地发送了。所以 **不同节点间的链路层** 要做的是 **只是将数据送往下一个邮局** 。在这里体现链路层的就是运送人员可以通过 **不同的方式运送** 。比如A邮局运送到B邮局是通过汽车，而运送到C邮局是通过邮轮、到D是通过航空， **不同的运输方式代表着不同的链路层协议，但是在上层看来都是相同的** 。
* 物理层 ： 这就是 **运输过程中的具体实现** 了，比如空运一批信件的具体细节（无线通讯的实现），这就属于硬件实现的范畴了。

在这里我们就可以看到，网络层和运输层为什么要划分出来，运输层（及上面的应用层）是基于端到端（End-to-End）的信息传输。而网络层确实在端和中间系统中都有的，网络层需要提供一个逐跳（Hop-by-Hop）的协议，在端系统和每个中间系统都要用。

当然，这几个层次所完成的功能远远要比这里的描述要复杂，这里只是举个例子。

我们可以从上面看到，每一层都是依赖于下一层的实现的特定功能加上本身层次的功能实现的，这也就是计算机中很重要的结构。


